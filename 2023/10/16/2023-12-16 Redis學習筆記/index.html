<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"kitefree.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="1. Redis簡介 Remote dictionary server  可以用於數據庫、緩存、消息隊列等各種場景  最熱門NoSQL數據庫之一  基於內存數據庫(記憶體效能&gt;IO效能，也就是Redis&gt;MySQL效能)  GitHub、Twitter、Stackoverflow、百度都在使用">
<meta property="og:type" content="article">
<meta property="og:title" content="Redis學習筆記">
<meta property="og:url" content="https://kitefree.github.io/2023/10/16/2023-12-16%20Redis%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/index.html">
<meta property="og:site_name" content="Kite的筆記">
<meta property="og:description" content="1. Redis簡介 Remote dictionary server  可以用於數據庫、緩存、消息隊列等各種場景  最熱門NoSQL數據庫之一  基於內存數據庫(記憶體效能&gt;IO效能，也就是Redis&gt;MySQL效能)  GitHub、Twitter、Stackoverflow、百度都在使用">
<meta property="og:locale" content="zh_TW">
<meta property="og:image" content="https://i.imgur.com/lITTqKX.png">
<meta property="og:image" content="https://i.imgur.com/J0Uw01L.png">
<meta property="og:image" content="https://i.imgur.com/AJKwCUc.png">
<meta property="og:image" content="https://i.imgur.com/SxJcfz8.png">
<meta property="og:image" content="https://i.imgur.com/JI8OdHv.png">
<meta property="og:image" content="https://i.imgur.com/ChvUKq0.png">
<meta property="og:image" content="https://i.imgur.com/GO4i0Gk.png">
<meta property="og:image" content="https://i.imgur.com/zaNzqqY.png">
<meta property="og:image" content="https://i.imgur.com/vCBtT5O.png">
<meta property="og:image" content="https://i.imgur.com/kzsdXDW.png">
<meta property="og:image" content="https://i.imgur.com/dp0k5Nw.png">
<meta property="og:image" content="https://i.imgur.com/5azKUk5.png">
<meta property="og:image" content="https://i.imgur.com/A2UKBL3.png">
<meta property="og:image" content="https://i.imgur.com/koP5xYq.png">
<meta property="og:image" content="https://i.imgur.com/RxLsRi6.png">
<meta property="og:image" content="https://i.imgur.com/tMREXiC.png">
<meta property="og:image" content="https://i.imgur.com/XBw6qQy.png">
<meta property="og:image" content="https://i.imgur.com/zXP20s8.png">
<meta property="og:image" content="https://i.imgur.com/XHcuLXb.png">
<meta property="og:image" content="https://i.imgur.com/0xUrsaR.png">
<meta property="og:image" content="https://i.imgur.com/B7boGE0.png">
<meta property="og:image" content="https://i.imgur.com/helyHzC.png">
<meta property="og:image" content="https://i.imgur.com/52ZiVNr.png">
<meta property="og:image" content="https://i.imgur.com/Qzk5Pxh.png">
<meta property="og:image" content="https://i.imgur.com/7ra7MSN.png">
<meta property="article:published_time" content="2023-10-16T03:01:00.000Z">
<meta property="article:modified_time" content="2023-12-31T15:35:16.226Z">
<meta property="article:author" content="kite">
<meta property="article:tag" content="C#">
<meta property="article:tag" content="高併發">
<meta property="article:tag" content="Redis">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.imgur.com/lITTqKX.png">

<link rel="canonical" href="https://kitefree.github.io/2023/10/16/2023-12-16%20Redis%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-TW'
  };
</script>

  <title>Redis學習筆記 | Kite的筆記</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切換導航欄">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Kite的筆記</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="home fa-fw"></i>首頁</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="tags fa-fw"></i>標籤</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="th fa-fw"></i>分類</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="archive fa-fw"></i>歸檔</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="sitemap fa-fw"></i>網站地圖</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜尋
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜尋..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://kitefree.github.io/2023/10/16/2023-12-16%20Redis%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kite">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kite的筆記">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Redis學習筆記
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2023-10-16 11:01:00" itemprop="dateCreated datePublished" datetime="2023-10-16T11:01:00+08:00">2023-10-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2023-12-31 23:35:16" itemprop="dateModified" datetime="2023-12-31T23:35:16+08:00">2023-12-31</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/NoSQL/" itemprop="url" rel="index"><span itemprop="name">NoSQL</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/NoSQL/Redis/" itemprop="url" rel="index"><span itemprop="name">Redis</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>19k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>35 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="1-Redis簡介"><a href="#1-Redis簡介" class="headerlink" title="1. Redis簡介"></a>1. Redis簡介</h2><ul>
<li><p>Remote dictionary server</p>
</li>
<li><p>可以用於數據庫、緩存、消息隊列等各種場景</p>
</li>
<li><p>最熱門NoSQL數據庫之一</p>
</li>
<li><p>基於內存數據庫(記憶體效能&gt;IO效能，也就是Redis&gt;MySQL效能)</p>
</li>
<li><p>GitHub、Twitter、Stackoverflow、百度都在使用</p>
</li>
</ul>
<span id="more"></span>

<h2 id="2-Redis特點"><a href="#2-Redis特點" class="headerlink" title="2. Redis特點"></a>2. Redis特點</h2><ul>
<li><p>高性能Key-Value</p>
</li>
<li><p>多種數據結構，單鍵值對最大支持512M大小的數據</p>
</li>
<li><p>豐富的功能</p>
</li>
<li><p>支持數據持久化、主從複製、哨兵模式等高可用分佈特性</p>
</li>
</ul>
<h3 id="2-1-數據類型"><a href="#2-1-數據類型" class="headerlink" title="2.1. 數據類型"></a>2.1. 數據類型</h3><p>5種基本數據類型</p>
<ul>
<li>字串 String</li>
<li>列表 List</li>
<li>集合 Set</li>
<li>有序集合 SortedSet</li>
<li>哈希 Hash</li>
</ul>
<p><img src="https://i.imgur.com/lITTqKX.png" alt="image-20231214102318825"></p>
<p>高級數據類型</p>
<ul>
<li>消息隊列 Stream</li>
<li>地理空間 Geospatial</li>
<li>HyperLogLog</li>
<li>位圖 Bitmap</li>
<li>位域 Bitfield</li>
</ul>
<h3 id="2-2-使用方式"><a href="#2-2-使用方式" class="headerlink" title="2.2. 使用方式"></a>2.2. 使用方式</h3><p>主要三種類型</p>
<ul>
<li><p>CLI</p>
<ul>
<li>redis-cli</li>
</ul>
</li>
<li><p>API</p>
<ul>
<li>簡單來說就是用程式碼(python、java)的方式進行使用</li>
</ul>
</li>
<li><p>GUI</p>
<ul>
<li>another-redis-desktop-manager</li>
</ul>
</li>
</ul>
<h2 id="3-環境安裝"><a href="#3-環境安裝" class="headerlink" title="3. 環境安裝"></a>3. 環境安裝</h2><p>下載docker image</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull redis</span><br></pre></td></tr></table></figure>

<p>container build</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --name redis-lab -p 6379:6379 -d redis</span><br></pre></td></tr></table></figure>

<h2 id="4-Redis-GUI-工具"><a href="#4-Redis-GUI-工具" class="headerlink" title="4. Redis GUI 工具"></a>4. Redis GUI 工具</h2><h3 id="4-1-這次透過指令方式安裝"><a href="#4-1-這次透過指令方式安裝" class="headerlink" title="4.1. 這次透過指令方式安裝"></a>4.1. 這次透過指令方式安裝</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">choco install another-redis-desktop-manager</span><br></pre></td></tr></table></figure>

<h3 id="4-2-執行結果"><a href="#4-2-執行結果" class="headerlink" title="4.2. 執行結果"></a>4.2. 執行結果</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">C:\Windows\System32&gt;choco install another-redis-desktop-manager</span><br><span class="line">Chocolatey v0.11.1</span><br><span class="line">Installing the following packages:</span><br><span class="line">another-redis-desktop-manager</span><br><span class="line">By installing, you accept licenses <span class="keyword">for</span> the packages.</span><br><span class="line">Progress: Downloading another-redis-desktop-manager 1.6.1... 100%</span><br></pre></td></tr></table></figure>

<h3 id="4-3-確認docker-id"><a href="#4-3-確認docker-id" class="headerlink" title="4.3. 確認docker id"></a>4.3. 確認docker id</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">C:\Windows\System32&gt;docker ps</span><br><span class="line">CONTAINER ID   IMAGE                      COMMAND                  CREATED          STATUS                 PORTS                            NAMES</span><br><span class="line">65b2b326dc9c   redis                      &quot;docker-entrypoint.s…&quot;   12 minutes ago   Up 12 minutes          0.0.0.0:6379-&gt;6379/tcp           redis-lab</span><br></pre></td></tr></table></figure>

<h3 id="4-4-進入docker操作redis"><a href="#4-4-進入docker操作redis" class="headerlink" title="4.4. 進入docker操作redis"></a>4.4. 進入docker操作redis</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">C:\Windows\System32&gt;docker exec -it 65b2 bash</span><br><span class="line">root@65b2b326dc9c:/data# redis-cli</span><br><span class="line">127.0.0.1:6379&gt; ping</span><br><span class="line">PONG</span><br><span class="line">127.0.0.1:6379&gt; set test &quot;hello world&quot;</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; get test</span><br><span class="line">&quot;hello world&quot;</span><br></pre></td></tr></table></figure>

<h3 id="4-5-透過GUI工具操作"><a href="#4-5-透過GUI工具操作" class="headerlink" title="4.5. 透過GUI工具操作"></a>4.5. 透過GUI工具操作</h3><p><img src="https://i.imgur.com/J0Uw01L.png" alt="image-20231211164508060"></p>
<h2 id="5-String-字串"><a href="#5-String-字串" class="headerlink" title="5. String 字串"></a>5. String 字串</h2><h3 id="5-1-簡介"><a href="#5-1-簡介" class="headerlink" title="5.1. 簡介"></a>5.1. 簡介</h3><ol>
<li><strong>Key-Value 存儲</strong>: Redis 的 STRING 是一個 key-value 存儲結構，每個 STRING 都有一個唯一的 key 用來標識。</li>
<li><strong>二進制安全</strong>: Redis 的 STRING 不僅可以存儲文本字符串，還可以存儲任何二進制數據，這使得它非常適合作為緩存系統。</li>
<li><strong>操作豐富</strong>: Redis 提供了豐富的 STRING 操作命令，包括設置、獲取、刪除、追加等，使得對字符串的操作非常靈活。</li>
</ol>
<h3 id="5-2-使用場景"><a href="#5-2-使用場景" class="headerlink" title="5.2. 使用場景"></a>5.2. 使用場景</h3><h4 id="5-2-1-快取-Caching"><a href="#5-2-1-快取-Caching" class="headerlink" title="5.2.1. 快取 (Caching)"></a>5.2.1. 快取 (Caching)</h4><p>作為一個支持高性能的快取系統，Redis 的 STRING 可以用來存儲經常被訪問的數據，例如網頁內容、查詢結果，以減輕後端數據庫的壓力。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 範例：將結果存入 Redis 快取</span></span><br><span class="line">SET user:1234:profile <span class="string">&quot;&#123;&#x27;id&#x27;:1234, &#x27;name&#x27;:&#x27;John Doe&#x27;, &#x27;age&#x27;:30&#125;&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="5-2-2-計數器-Counters"><a href="#5-2-2-計數器-Counters" class="headerlink" title="5.2.2. 計數器 (Counters)"></a>5.2.2. 計數器 (Counters)</h4><p>可以使用 Redis 的自增（INCR）和自減（DECR）操作，實現計數器的功能，適用於需要跟蹤計數的場景，比如網站訪問次數、商品庫存等。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 範例：增加訪問次數</span></span><br><span class="line">INCR website:visit:count</span><br></pre></td></tr></table></figure>

<h4 id="5-2-3-會話管理-Session-Management"><a href="#5-2-3-會話管理-Session-Management" class="headerlink" title="5.2.3. 會話管理 (Session Management)"></a>5.2.3. 會話管理 (Session Management)</h4><p>存儲和管理用戶的會話數據，比如登錄信息、訪問權限等。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 範例：存儲用戶會話信息</span></span><br><span class="line">SET session:userid:1234 <span class="string">&quot;&#123;&#x27;token&#x27;:&#x27;abc123&#x27;, &#x27;expires&#x27;:&#x27;2023-12-31&#x27;&#125;&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="5-3-常用指令"><a href="#5-3-常用指令" class="headerlink" title="5.3. 常用指令"></a>5.3. 常用指令</h3><h4 id="5-3-1-SET-設定key"><a href="#5-3-1-SET-設定key" class="headerlink" title="5.3.1. SET - 設定key"></a>5.3.1. SET - 設定key</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> kite <span class="built_in">nice</span></span><br><span class="line">OK</span><br></pre></td></tr></table></figure>

<h4 id="5-3-2-GET-讀取key"><a href="#5-3-2-GET-讀取key" class="headerlink" title="5.3.2. GET - 讀取key"></a>5.3.2. GET - 讀取key</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; get kite</span><br><span class="line"><span class="string">&quot;nice&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="5-3-3-key大小寫有分"><a href="#5-3-3-key大小寫有分" class="headerlink" title="5.3.3. key大小寫有分"></a>5.3.3. key大小寫有分</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> Kite Nice</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; get Kite</span><br><span class="line"><span class="string">&quot;Nice&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="5-3-4-DEL-刪除key"><a href="#5-3-4-DEL-刪除key" class="headerlink" title="5.3.4. DEL - 刪除key"></a>5.3.4. DEL - 刪除key</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; del name</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; get name</span><br><span class="line">(nil)</span><br></pre></td></tr></table></figure>

<h4 id="5-3-5-EXISTS-查詢key"><a href="#5-3-5-EXISTS-查詢key" class="headerlink" title="5.3.5. EXISTS - 查詢key"></a>5.3.5. EXISTS - 查詢key</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; exists name</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; exists age</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br></pre></td></tr></table></figure>

<h4 id="5-3-6-KEYS-萬用字查詢"><a href="#5-3-6-KEYS-萬用字查詢" class="headerlink" title="5.3.6. KEYS - 萬用字查詢"></a>5.3.6. KEYS - 萬用字查詢</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">1) <span class="string">&quot;backup4&quot;</span></span><br><span class="line">2) <span class="string">&quot;backup3&quot;</span></span><br><span class="line">3) <span class="string">&quot;age&quot;</span></span><br><span class="line">4) <span class="string">&quot;backup1&quot;</span></span><br><span class="line">5) <span class="string">&quot;backup2&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; keys ba*</span><br><span class="line">1) <span class="string">&quot;backup4&quot;</span></span><br><span class="line">2) <span class="string">&quot;backup3&quot;</span></span><br><span class="line">3) <span class="string">&quot;backup1&quot;</span></span><br><span class="line">4) <span class="string">&quot;backup2&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="5-3-7-FLUSHALL-刪除所有key"><a href="#5-3-7-FLUSHALL-刪除所有key" class="headerlink" title="5.3.7. FLUSHALL - 刪除所有key"></a>5.3.7. FLUSHALL - 刪除所有key</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; flushall</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">(empty array)</span><br></pre></td></tr></table></figure>

<h4 id="5-3-8-中文顯示說明"><a href="#5-3-8-中文顯示說明" class="headerlink" title="5.3.8. 中文顯示說明"></a>5.3.8. 中文顯示說明</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> name <span class="string">&quot;悠風&quot;</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; get name</span><br><span class="line"><span class="string">&quot;\xe6\x82\xa0\xe9\xa2\xa8&quot;</span></span><br></pre></td></tr></table></figure>
<h4 id="5-3-9-redis-cli-–raw-正常顯示中文方法"><a href="#5-3-9-redis-cli-–raw-正常顯示中文方法" class="headerlink" title="5.3.9. redis-cli –raw  正常顯示中文方法"></a>5.3.9. redis-cli –raw  正常顯示中文方法</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; quit</span><br><span class="line"><span class="comment"># redis-cli --raw</span></span><br><span class="line">127.0.0.1:6379&gt; get name</span><br><span class="line">悠風</span><br></pre></td></tr></table></figure>

<h4 id="5-3-10-EXPIRE-設定過期"><a href="#5-3-10-EXPIRE-設定過期" class="headerlink" title="5.3.10. EXPIRE - 設定過期"></a>5.3.10. EXPIRE - 設定過期</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; expire name 10</span><br></pre></td></tr></table></figure>

<h4 id="5-3-11-TTL-查詢過期"><a href="#5-3-11-TTL-查詢過期" class="headerlink" title="5.3.11. TTL - 查詢過期"></a>5.3.11. TTL - 查詢過期</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; ttl name</span><br><span class="line">6</span><br><span class="line">127.0.0.1:6379&gt; ttl name</span><br><span class="line">4</span><br><span class="line">127.0.0.1:6379&gt; ttl name</span><br><span class="line">2</span><br><span class="line">127.0.0.1:6379&gt; ttl name</span><br><span class="line">-2</span><br><span class="line"></span><br><span class="line"><span class="comment">#過期後查詢結果會是空白</span></span><br><span class="line">127.0.0.1:6379&gt; get name</span><br><span class="line"></span><br><span class="line"><span class="comment">#過期後查詢結果會是空白</span></span><br><span class="line">127.0.0.1:6379&gt; keys name</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="5-3-12-SETEX-設定key-過期"><a href="#5-3-12-SETEX-設定key-過期" class="headerlink" title="5.3.12. SETEX - 設定key + 過期"></a>5.3.12. SETEX - 設定key + 過期</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; setex name 5 悠風</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; ttl name</span><br><span class="line">1</span><br><span class="line">127.0.0.1:6379&gt; ttl name</span><br><span class="line">-2</span><br></pre></td></tr></table></figure>

<h4 id="5-3-13-SETNX-該值不存在則建立"><a href="#5-3-13-SETNX-該值不存在則建立" class="headerlink" title="5.3.13. SETNX - 該值不存在則建立"></a>5.3.13. SETNX - 該值不存在則建立</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; setnx name kite</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<h2 id="6-LIST-列表"><a href="#6-LIST-列表" class="headerlink" title="6. LIST 列表"></a>6. LIST 列表</h2><h3 id="6-1-簡介"><a href="#6-1-簡介" class="headerlink" title="6.1. 簡介"></a>6.1. 簡介</h3><p>在 Redis 中，LIST 是一種有序、可重複的資料結構，它允許存儲一個有序的元素列表。每個元素都有一個索引，從 0 開始。LIST 提供了豐富的操作命令，可以在列表的頭部或尾部執行插入、刪除等操作，同時支持範圍查詢和修剪。可實現最簡單的先進先出隊列也就是結合<code>LPUSH</code>(左進) + <code>RPOP</code>(右出)</p>
<p>LIST 資料結構的特點：</p>
<ol>
<li><strong>有序性</strong>: 元素在列表中的存儲順序是有序的，可以按照索引進行訪問。</li>
<li><strong>重複元素</strong>: 元素可以重複存在於列表中，這使得 LIST 可以用來表示多個相同類型的元素。</li>
<li><strong>支持隊列和堆疊操作</strong>: LIST 可以被當作隊列（先進先出，FIFO）或堆疊（後進先出，LIFO）來使用。</li>
</ol>
<h3 id="6-2-使用場景"><a href="#6-2-使用場景" class="headerlink" title="6.2. 使用場景"></a>6.2. 使用場景</h3><h4 id="6-2-1-日誌記錄"><a href="#6-2-1-日誌記錄" class="headerlink" title="6.2.1. 日誌記錄"></a>6.2.1. 日誌記錄</h4><p>隊列的特點是先進先出,後進後出.我們可以使用lpush 命令從隊列的左邊放入,然後利用rpop命令從右邊取出,這樣就模擬實現了隊列.可以用來記錄日誌等</p>
<h4 id="6-2-2-抽獎-搶票"><a href="#6-2-2-抽獎-搶票" class="headerlink" title="6.2.2. 抽獎,搶票"></a>6.2.2. 抽獎,搶票</h4><p>list 是線程安全的,所有的pop操作是原子性的,適用於抽獎,搶票等場景,用來防止超賣問題.這裡重點解釋一下抽獎:主要是分為三步</p>
<ol>
<li>全部獎品打散放入list中</li>
<li>呼叫pop指令從list中取出</li>
<li>將中獎記錄寫入資料庫</li>
</ol>
<h4 id="6-2-3-流量消峰"><a href="#6-2-3-流量消峰" class="headerlink" title="6.2.3. 流量消峰"></a>6.2.3. 流量消峰</h4><p>將所有的請求全部放到list中,然後開啟多個線程來處理後續請求,減輕伺服器壓力,用來處理一些高並發場景.</p>
<h3 id="6-3-常用指令"><a href="#6-3-常用指令" class="headerlink" title="6.3. 常用指令"></a>6.3. 常用指令</h3><h4 id="6-3-1-LPUSH"><a href="#6-3-1-LPUSH" class="headerlink" title="6.3.1. LPUSH"></a>6.3.1. LPUSH</h4><p>第一次</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; LPUSH letter a</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line"></span><br><span class="line">&gt; LRANGE letter 0 -1</span><br><span class="line">1) <span class="string">&quot;a&quot;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://i.imgur.com/AJKwCUc.png" alt="image-20231213213532063"></p>
<p>第二次</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt; LPUSH letter b</span><br><span class="line">(<span class="built_in">integer</span>) 2</span><br><span class="line"></span><br><span class="line">&gt; LRANGE letter 0 -1</span><br><span class="line">1) <span class="string">&quot;b&quot;</span></span><br><span class="line">2) <span class="string">&quot;a&quot;</span></span><br></pre></td></tr></table></figure>



<p><img src="https://i.imgur.com/SxJcfz8.png" alt="image-20231213213614346"></p>
<p>第三次</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; LPUSH letter c d e</span><br><span class="line">(<span class="built_in">integer</span>) 5</span><br></pre></td></tr></table></figure>



<p><img src="https://i.imgur.com/JI8OdHv.png" alt="image-20231213213634536"></p>
<h4 id="6-3-2-LRANGE"><a href="#6-3-2-LRANGE" class="headerlink" title="6.3.2. LRANGE"></a>6.3.2. LRANGE</h4><p>-1 代表全部</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt; LRANGE letter 0 -1</span><br><span class="line">1) <span class="string">&quot;e&quot;</span></span><br><span class="line">2) <span class="string">&quot;d&quot;</span></span><br><span class="line">3) <span class="string">&quot;c&quot;</span></span><br><span class="line">4) <span class="string">&quot;b&quot;</span></span><br><span class="line">5) <span class="string">&quot;a&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="6-3-3-RPUSH"><a href="#6-3-3-RPUSH" class="headerlink" title="6.3.3. RPUSH"></a>6.3.3. RPUSH</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt; RPUSH letter f</span><br><span class="line">(<span class="built_in">integer</span>) 6</span><br><span class="line">&gt; LRANGE letter 0 -1</span><br><span class="line">1) <span class="string">&quot;e&quot;</span></span><br><span class="line">2) <span class="string">&quot;d&quot;</span></span><br><span class="line">3) <span class="string">&quot;c&quot;</span></span><br><span class="line">4) <span class="string">&quot;b&quot;</span></span><br><span class="line">5) <span class="string">&quot;a&quot;</span></span><br><span class="line">6) <span class="string">&quot;f&quot;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://i.imgur.com/ChvUKq0.png" alt="image-20231213213754020"></p>
<p>RPOP </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt; RPOP letter</span><br><span class="line"><span class="string">&quot;f&quot;</span></span><br><span class="line"></span><br><span class="line">&gt; LRANGE letter 0 -1</span><br><span class="line">1) <span class="string">&quot;e&quot;</span></span><br><span class="line">2) <span class="string">&quot;d&quot;</span></span><br><span class="line">3) <span class="string">&quot;c&quot;</span></span><br><span class="line">4) <span class="string">&quot;b&quot;</span></span><br><span class="line">5) <span class="string">&quot;a&quot;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://i.imgur.com/GO4i0Gk.png" alt="image-20231213213849151"></p>
<p>LPOP</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt; LPOP letter 2</span><br><span class="line">1) <span class="string">&quot;e&quot;</span></span><br><span class="line">2) <span class="string">&quot;d&quot;</span></span><br><span class="line">&gt; LRANGE letter 0 -1</span><br><span class="line">1) <span class="string">&quot;c&quot;</span></span><br><span class="line">2) <span class="string">&quot;b&quot;</span></span><br><span class="line">3) <span class="string">&quot;a&quot;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://i.imgur.com/zaNzqqY.png" alt="image-20231213214017278"></p>
<h4 id="6-3-4-LLEN"><a href="#6-3-4-LLEN" class="headerlink" title="6.3.4. LLEN"></a>6.3.4. LLEN</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; LLEN letter</span><br><span class="line">(<span class="built_in">integer</span>) 3</span><br></pre></td></tr></table></figure>

<h4 id="6-3-5-LTRIM"><a href="#6-3-5-LTRIM" class="headerlink" title="6.3.5. LTRIM"></a>6.3.5. LTRIM</h4><p>索引從0開始算，所以 1 ~ 3 是 <code>d、c、b</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&gt; LPUSH letter a b c d e</span><br><span class="line">(<span class="built_in">integer</span>) 5</span><br><span class="line"></span><br><span class="line">&gt; LRANGE letter 0 -1</span><br><span class="line">1) <span class="string">&quot;e&quot;</span></span><br><span class="line">2) <span class="string">&quot;d&quot;</span></span><br><span class="line">3) <span class="string">&quot;c&quot;</span></span><br><span class="line">4) <span class="string">&quot;b&quot;</span></span><br><span class="line">5) <span class="string">&quot;a&quot;</span></span><br><span class="line"></span><br><span class="line">&gt; LTRIM letter 1 3</span><br><span class="line"><span class="string">&quot;OK&quot;</span></span><br><span class="line"></span><br><span class="line">&gt; LRANGE letter 0 -1</span><br><span class="line">1) <span class="string">&quot;d&quot;</span></span><br><span class="line">2) <span class="string">&quot;c&quot;</span></span><br><span class="line">3) <span class="string">&quot;b&quot;</span></span><br></pre></td></tr></table></figure>



<h2 id="7-SET-集合"><a href="#7-SET-集合" class="headerlink" title="7. SET 集合"></a>7. SET 集合</h2><h3 id="7-1-簡介"><a href="#7-1-簡介" class="headerlink" title="7.1. 簡介"></a>7.1. 簡介</h3><p>SET 與 LIST 最大的差異是沒有順序，並且不能有重複值</p>
<h4 id="7-1-1-什麼是-Redis-SET-資料結構？"><a href="#7-1-1-什麼是-Redis-SET-資料結構？" class="headerlink" title="7.1.1. 什麼是 Redis SET 資料結構？"></a>7.1.1. 什麼是 Redis SET 資料結構？</h4><p>在 Redis 中，SET 是一種集合型資料結構，用來存儲多個唯一且無序的元素。SET 不允許相同的元素存在，這意味著每個元素在 SET 中都是唯一的。</p>
<h4 id="7-1-2-Redis-SET-的主要特性："><a href="#7-1-2-Redis-SET-的主要特性：" class="headerlink" title="7.1.2. Redis SET 的主要特性："></a>7.1.2. Redis SET 的主要特性：</h4><ul>
<li><strong>唯一性（Unique）</strong>：SET 中的每個元素都是唯一的，不允許重複的元素存在。</li>
<li><strong>無序性（Unordered）</strong>：SET 中的元素是無序的，不像 LIST 或 ZSET 有順序的概念。</li>
<li><strong>操作豐富</strong>：Redis 提供了豐富的 SET 操作命令，包括添加成員、刪除成員、檢查成員是否存在等。</li>
</ul>
<h3 id="7-2-使用場景"><a href="#7-2-使用場景" class="headerlink" title="7.2. 使用場景"></a>7.2. 使用場景</h3><p>redis set是集合類型的資料結構，那麼集合類型就比較適合用於聚合分類。</p>
<h4 id="7-2-1-標籤"><a href="#7-2-1-標籤" class="headerlink" title="7.2.1. 標籤"></a>7.2.1. 標籤</h4><p>例如我們部落格網站常常使用到的興趣標籤，把一個個有著相同嗜好，關注類似內容的用戶利用一個標籤把他們進行歸併。 </p>
<h4 id="7-2-2-共同"><a href="#7-2-2-共同" class="headerlink" title="7.2.2. 共同"></a>7.2.2. 共同</h4><p>共同好友功能，共同喜好，或是可以引申到二度好友之類的擴充應用。</p>
<h4 id="7-2-3-統計"><a href="#7-2-3-統計" class="headerlink" title="7.2.3. 統計"></a>7.2.3. 統計</h4><p>統計網站的獨立IP。利用set集合當中元素不唯一性，可以快速即時統計存取網站的獨立IP。</p>
<h3 id="7-3-常用指令"><a href="#7-3-常用指令" class="headerlink" title="7.3. 常用指令"></a>7.3. 常用指令</h3><h4 id="7-3-1-SADD"><a href="#7-3-1-SADD" class="headerlink" title="7.3.1. SADD"></a>7.3.1. SADD</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt; SADD course Redis</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line"></span><br><span class="line"><span class="comment">#故意再加一次，加不進去</span></span><br><span class="line">&gt; SADD course Redis</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">&gt; SMEMBERS course</span><br><span class="line">1) <span class="string">&quot;Redis&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="7-3-2-SMEMBERS"><a href="#7-3-2-SMEMBERS" class="headerlink" title="7.3.2. SMEMBERS"></a>7.3.2. SMEMBERS</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; SMEMBERS course</span><br><span class="line">1) <span class="string">&quot;Redis&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="7-3-3-SISMEMBER"><a href="#7-3-3-SISMEMBER" class="headerlink" title="7.3.3. SISMEMBER"></a>7.3.3. SISMEMBER</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; SISMEMBER course Redis</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line"></span><br><span class="line">&gt; SISMEMBER course Python</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br></pre></td></tr></table></figure>

<h4 id="7-3-4-SREM"><a href="#7-3-4-SREM" class="headerlink" title="7.3.4. SREM"></a>7.3.4. SREM</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; SREM course Redis</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line"></span><br><span class="line">&gt; SMEMBERS course</span><br><span class="line">(empty list or <span class="built_in">set</span>)</span><br></pre></td></tr></table></figure>

<h4 id="7-3-5-其它學習"><a href="#7-3-5-其它學習" class="headerlink" title="7.3.5. 其它學習"></a>7.3.5. 其它學習</h4><p>SINTER、SUNION、SDIFF</p>
<h2 id="8-SortedSet-有序集合"><a href="#8-SortedSet-有序集合" class="headerlink" title="8. SortedSet 有序集合"></a>8. SortedSet 有序集合</h2><h3 id="8-1-簡介"><a href="#8-1-簡介" class="headerlink" title="8.1. 簡介"></a>8.1. 簡介</h3><h4 id="8-1-1-什麼是-Redis-Sorted-Set-資料結構？"><a href="#8-1-1-什麼是-Redis-Sorted-Set-資料結構？" class="headerlink" title="8.1.1. 什麼是 Redis Sorted Set 資料結構？"></a>8.1.1. 什麼是 Redis Sorted Set 資料結構？</h4><p>在 Redis 中，Sorted Set（有序集合）是一種集合型資料結構，它與 SET 類似，但每個成員都關聯著一個分數（score）。這個分數用來排序集合中的元素，因此 Sorted Set 是根據分數有序排列的。</p>
<h4 id="8-1-2-Redis-Sorted-Set-的主要特性："><a href="#8-1-2-Redis-Sorted-Set-的主要特性：" class="headerlink" title="8.1.2. Redis Sorted Set 的主要特性："></a>8.1.2. Redis Sorted Set 的主要特性：</h4><ul>
<li><strong>有序性（Ordered）</strong>：元素根據其分數的大小進行排序，可以按照分數區間或排名獲取元素。</li>
<li><strong>唯一性（Unique）</strong>：每個元素在集合中是唯一的，不允許重複的成員存在。</li>
<li><strong>操作豐富</strong>：Redis 提供了豐富的 Sorted Set 操作命令，包括添加成員、刪除成員、獲取排名、按照分數區間獲取成員等。</li>
</ul>
<h3 id="8-2-使用場景"><a href="#8-2-使用場景" class="headerlink" title="8.2. 使用場景"></a>8.2. 使用場景</h3><h4 id="8-2-1-排行榜（Leaderboard）"><a href="#8-2-1-排行榜（Leaderboard）" class="headerlink" title="8.2.1. 排行榜（Leaderboard）"></a>8.2.1. 排行榜（Leaderboard）</h4><p>Sorted Set 非常適用於實現排行榜，其中成員的分數表示其在排行中的位置，可以根據分數的高低快速獲取排名。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 範例：將玩家分數存入排行榜</span></span><br><span class="line">ZADD leaderboard 1000 <span class="string">&quot;Player1&quot;</span></span><br><span class="line">ZADD leaderboard 950 <span class="string">&quot;Player2&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="8-2-2-過期時間管理"><a href="#8-2-2-過期時間管理" class="headerlink" title="8.2.2. 過期時間管理"></a>8.2.2. 過期時間管理</h4><p>可以使用 Sorted Set 來管理帶有過期時間的數據，分數表示過期時間的時間戳，並使用定期的清理操作來刪除過期的數據。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 範例：將帶有過期時間的數據存入有序集合</span></span><br><span class="line">ZADD expiration:tasks &lt;timestamp&gt; <span class="string">&quot;Task1&quot;</span></span><br><span class="line">ZADD expiration:tasks &lt;timestamp&gt; <span class="string">&quot;Task2&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="8-2-3-區間查詢"><a href="#8-2-3-區間查詢" class="headerlink" title="8.2.3. 區間查詢"></a>8.2.3. 區間查詢</h4><p>Sorted Set 支持根據分數區間進行查詢，這使得它適用於需要根據數值範圍檢索數據的場景。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 範例：獲取分數在指定區間的成員</span></span><br><span class="line">ZRANGEBYSCORE temperature 0 25</span><br></pre></td></tr></table></figure>

<h4 id="8-2-4-數據匹配和搜索"><a href="#8-2-4-數據匹配和搜索" class="headerlink" title="8.2.4. 數據匹配和搜索"></a>8.2.4. 數據匹配和搜索</h4><p>Sorted Set 可以用於實現模糊搜索，分數可以表示相似度或匹配程度，使得可以按照相似度檢索數據。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 範例：根據匹配程度獲取成員</span></span><br><span class="line">ZRANGEBYSCORE similarity 0.8 1.0</span><br></pre></td></tr></table></figure>

<h4 id="8-2-5-即時排名"><a href="#8-2-5-即時排名" class="headerlink" title="8.2.5. 即時排名"></a>8.2.5. 即時排名</h4><p>Sorted Set 可以用於即時排名的場景，例如遊戲中的實時得分排名。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 範例：遊戲中即時更新玩家分數</span></span><br><span class="line">ZADD realtime:scoreboard 1200 <span class="string">&quot;Player1&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="8-3-常用指令"><a href="#8-3-常用指令" class="headerlink" title="8.3. 常用指令"></a>8.3. 常用指令</h3><h4 id="8-3-1-ZADD"><a href="#8-3-1-ZADD" class="headerlink" title="8.3.1. ZADD"></a>8.3.1. ZADD</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; ZADD result 100 小民 90 小華 80 小新</span><br><span class="line">3</span><br></pre></td></tr></table></figure>

<h4 id="8-3-2-ZRANGE"><a href="#8-3-2-ZRANGE" class="headerlink" title="8.3.2. ZRANGE"></a>8.3.2. ZRANGE</h4><p>只呈現人名</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; ZRANGE result 0 -1</span><br><span class="line">小新</span><br><span class="line">小華</span><br><span class="line">小民</span><br></pre></td></tr></table></figure>

<h4 id="8-3-3-ZRANGE-WITHSCORES"><a href="#8-3-3-ZRANGE-WITHSCORES" class="headerlink" title="8.3.3. ZRANGE WITHSCORES"></a>8.3.3. ZRANGE WITHSCORES</h4><p>分數跟人一起呈現</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; ZRANGE result 0 -1 WITHSCORES</span><br><span class="line">小新</span><br><span class="line">80</span><br><span class="line">小華</span><br><span class="line">90</span><br><span class="line">小民</span><br><span class="line">100</span><br></pre></td></tr></table></figure>

<h4 id="8-3-4-ZSCORE"><a href="#8-3-4-ZSCORE" class="headerlink" title="8.3.4. ZSCORE"></a>8.3.4. ZSCORE</h4><p>呈現分數</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; ZSCORE result 小民</span><br><span class="line">100</span><br></pre></td></tr></table></figure>

<h4 id="8-3-5-ZRANK"><a href="#8-3-5-ZRANK" class="headerlink" title="8.3.5. ZRANK"></a>8.3.5. ZRANK</h4><p>有序集合預設是由小到大排序，索引從0開始，小民分數最多，所以索引是2</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; ZRANK result 小民</span><br><span class="line">2</span><br></pre></td></tr></table></figure>

<h4 id="8-3-6-ZREVRANK"><a href="#8-3-6-ZREVRANK" class="headerlink" title="8.3.6. ZREVRANK"></a>8.3.6. ZREVRANK</h4><p>rev是指reverse 反轉，也就是由大到小</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; ZREVRANK result 小民</span><br><span class="line">0</span><br></pre></td></tr></table></figure>

<h4 id="8-3-7-其它學習"><a href="#8-3-7-其它學習" class="headerlink" title="8.3.7. 其它學習"></a>8.3.7. 其它學習</h4><p>比如刪除某個成員，對某個成員分數進行增加，刪除某個排名範圍的成員</p>
<h2 id="9-Hash-哈希"><a href="#9-Hash-哈希" class="headerlink" title="9. Hash 哈希"></a>9. Hash 哈希</h2><h3 id="9-1-簡介"><a href="#9-1-簡介" class="headerlink" title="9.1. 簡介"></a>9.1. 簡介</h3><p>key-value資料結構，特別適合來儲存物件。</p>
<h3 id="9-2-使用場景"><a href="#9-2-使用場景" class="headerlink" title="9.2. 使用場景"></a>9.2. 使用場景</h3><h4 id="9-2-1-對象存儲"><a href="#9-2-1-對象存儲" class="headerlink" title="9.2.1. 對象存儲"></a>9.2.1. 對象存儲</h4><p>Hash 非常適用於存儲對象的屬性，例如用戶對象、產品對象等，其中每個字段表示對象的一個屬性，對應的值是這個屬性的值。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 範例：存儲用戶對象</span></span><br><span class="line">HSET user:1234 name <span class="string">&quot;John Doe&quot;</span></span><br><span class="line">HSET user:1234 age 30</span><br><span class="line">HSET user:1234 email <span class="string">&quot;john@example.com&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="9-2-2-網站會話管理"><a href="#9-2-2-網站會話管理" class="headerlink" title="9.2.2. 網站會話管理"></a>9.2.2. 網站會話管理</h4><p>Hash 可以用於存儲網站中的會話信息，其中每個字段表示一個會話屬性，對應的值是這個會話屬性的值。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 範例：存儲會話信息</span></span><br><span class="line">HSET session:abc123 userid 1234</span><br><span class="line">HSET session:abc123 last_access <span class="string">&quot;2023-12-31 23:59:59&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="9-2-3-配置存儲"><a href="#9-2-3-配置存儲" class="headerlink" title="9.2.3. 配置存儲"></a>9.2.3. 配置存儲</h4><p>Hash 可以用於存儲應用程序的配置信息，其中每個字段表示一個配置項，對應的值是這個配置項的值。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 範例：存儲應用程序配置</span></span><br><span class="line">HSET app:config max_connections 100</span><br><span class="line">HSET app:config log_level <span class="string">&quot;info&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="9-3-常用指令"><a href="#9-3-常用指令" class="headerlink" title="9.3. 常用指令"></a>9.3. 常用指令</h3><h4 id="9-3-1-HSET"><a href="#9-3-1-HSET" class="headerlink" title="9.3.1. HSET"></a>9.3.1. HSET</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; HSET person name kite</span><br><span class="line">1</span><br><span class="line">127.0.0.1:6379&gt; HSET person age 100</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<h4 id="9-3-2-HGET"><a href="#9-3-2-HGET" class="headerlink" title="9.3.2. HGET"></a>9.3.2. HGET</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; HGET person name</span><br><span class="line">kite</span><br></pre></td></tr></table></figure>

<h4 id="9-3-3-HGETALL"><a href="#9-3-3-HGETALL" class="headerlink" title="9.3.3. HGETALL"></a>9.3.3. HGETALL</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; HGETALL person</span><br><span class="line">name</span><br><span class="line">kite</span><br><span class="line">age</span><br><span class="line">100</span><br></pre></td></tr></table></figure>

<h4 id="9-3-4-HDEL"><a href="#9-3-4-HDEL" class="headerlink" title="9.3.4. HDEL"></a>9.3.4. HDEL</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; HDEL person age</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<h4 id="9-3-5-HGETALL"><a href="#9-3-5-HGETALL" class="headerlink" title="9.3.5. HGETALL"></a>9.3.5. HGETALL</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; HGETALL person</span><br><span class="line">name</span><br><span class="line">kite</span><br></pre></td></tr></table></figure>

<h4 id="9-3-6-HEXISTS"><a href="#9-3-6-HEXISTS" class="headerlink" title="9.3.6. HEXISTS"></a>9.3.6. HEXISTS</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; HEXISTS person name</span><br><span class="line">1</span><br><span class="line">127.0.0.1:6379&gt; HEXISTS person age</span><br><span class="line">0</span><br></pre></td></tr></table></figure>

<h4 id="9-3-7-HKEYS"><a href="#9-3-7-HKEYS" class="headerlink" title="9.3.7. HKEYS"></a>9.3.7. HKEYS</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; HKEYS person</span><br><span class="line">name</span><br></pre></td></tr></table></figure>

<h4 id="9-3-8-HLEN"><a href="#9-3-8-HLEN" class="headerlink" title="9.3.8. HLEN"></a>9.3.8. HLEN</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; HLEN person</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<h2 id="10-發佈訂閱模式"><a href="#10-發佈訂閱模式" class="headerlink" title="10. 發佈訂閱模式"></a>10. 發佈訂閱模式</h2><h3 id="10-1-常用指令"><a href="#10-1-常用指令" class="headerlink" title="10.1. 常用指令"></a>10.1. 常用指令</h3><h4 id="10-1-1-subscribe"><a href="#10-1-1-subscribe" class="headerlink" title="10.1.1. subscribe"></a>10.1.1. subscribe</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">subscribe ubereats</span><br></pre></td></tr></table></figure>

<h4 id="10-1-2-publish"><a href="#10-1-2-publish" class="headerlink" title="10.1.2. publish"></a>10.1.2. publish</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">publish ubereats order001</span><br></pre></td></tr></table></figure>

<p>下圖左邊是publish發佈消息，右邊是兩個訂閱者，當publish時，訂閱者們會同步收到消息。</p>
<p><img src="https://i.imgur.com/vCBtT5O.png" alt="image-20231214115332780"></p>
<h2 id="11-GEO"><a href="#11-GEO" class="headerlink" title="11. GEO"></a>11. GEO</h2><h3 id="11-1-常用指令"><a href="#11-1-常用指令" class="headerlink" title="11.1. 常用指令"></a>11.1. 常用指令</h3><h4 id="11-1-1-GEOADD"><a href="#11-1-1-GEOADD" class="headerlink" title="11.1.1. GEOADD"></a>11.1.1. GEOADD</h4><p>經度(116.405285)、緯度(39.904989)、名稱(beijing)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#新增一個</span></span><br><span class="line">127.0.0.1:6379&gt; GEOADD city 116.405285 39.904989 beijing</span><br><span class="line">1</span><br><span class="line"></span><br><span class="line"><span class="comment">#新增多個</span></span><br><span class="line">127.0.0.1:6379&gt; GEOADD city 121.472644 31.231706 shanghai 114.085947 22.547 shenzhen 37 23.125178 guangzhou 120.153576 30.287459 hangzhou</span><br><span class="line">4</span><br></pre></td></tr></table></figure>

<h4 id="11-1-2-GEOPOS"><a href="#11-1-2-GEOPOS" class="headerlink" title="11.1.2. GEOPOS"></a>11.1.2. GEOPOS</h4><p>取得地理位置</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; GEOPOS city beijing</span><br><span class="line">116.40528291463851929</span><br><span class="line">39.9049884229125027</span><br></pre></td></tr></table></figure>

<h4 id="11-1-3-GEODIST"><a href="#11-1-3-GEODIST" class="headerlink" title="11.1.3. GEODIST"></a>11.1.3. GEODIST</h4><p>取得北京到上海的距離，預設單位為公尺(M)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; GEODIST city beijing shanghai</span><br><span class="line">1067597.9668</span><br><span class="line"></span><br><span class="line"><span class="comment">#以KM單位顯示</span></span><br><span class="line">127.0.0.1:6379&gt; GEODIST city beijing shanghai KM</span><br><span class="line">1067.5980</span><br></pre></td></tr></table></figure>

<h4 id="11-1-4-GEOSEARCH…FROMMEMBER…BYRADIUS…"><a href="#11-1-4-GEOSEARCH…FROMMEMBER…BYRADIUS…" class="headerlink" title="11.1.4. GEOSEARCH…FROMMEMBER…BYRADIUS…"></a>11.1.4. GEOSEARCH…FROMMEMBER…BYRADIUS…</h4><p>以某某地點為中心，採用半徑方式計算鄰近的城市</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; GEOSEARCH city FROMMEMBER shanghai BYRADIUS 300 KM</span><br><span class="line">hangzhou</span><br><span class="line">shanghai</span><br><span class="line">127.0.0.1:6379&gt; GEOSEARCH city FROMMEMBER shanghai BYRADIUS 2000 KM</span><br><span class="line">shenzhen</span><br><span class="line">hangzhou</span><br><span class="line">shanghai</span><br><span class="line">beijing</span><br></pre></td></tr></table></figure>

<h2 id="12-HyperLogLog"><a href="#12-HyperLogLog" class="headerlink" title="12. HyperLogLog"></a>12. HyperLogLog</h2><h3 id="12-1-常用指令"><a href="#12-1-常用指令" class="headerlink" title="12.1. 常用指令"></a>12.1. 常用指令</h3><h4 id="12-1-1-PFADD"><a href="#12-1-1-PFADD" class="headerlink" title="12.1.1. PFADD"></a>12.1.1. PFADD</h4><p>建立course課程變數，放三個課程</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; PFADD course git docker redis</span><br><span class="line">1</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="12-1-2-PFCOUNT"><a href="#12-1-2-PFCOUNT" class="headerlink" title="12.1.2. PFCOUNT"></a>12.1.2. PFCOUNT</h4><p>計算課程</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; PFCOUNT course</span><br><span class="line">3</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; PFADD course nginx</span><br><span class="line">1</span><br><span class="line">127.0.0.1:6379&gt; PFCOUNT course</span><br><span class="line">4</span><br></pre></td></tr></table></figure>

<h4 id="12-1-3-PFMEGER"><a href="#12-1-3-PFMEGER" class="headerlink" title="12.1.3. PFMEGER"></a>12.1.3. PFMEGER</h4><p>建立course2課程變數，放三個課程，通過<code>PMERGE</code>合併課程，再進行計算。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; PFADD course2 python git go</span><br><span class="line">1</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; PFMERGE result course course2</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; PFCOUNT result</span><br><span class="line">6</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="13-Bitmap-位圖"><a href="#13-Bitmap-位圖" class="headerlink" title="13. Bitmap 位圖"></a>13. Bitmap 位圖</h2><p><img src="https://i.imgur.com/kzsdXDW.png" alt="image-20231214142550274"></p>
<h3 id="13-1-常用指令"><a href="#13-1-常用指令" class="headerlink" title="13.1. 常用指令"></a>13.1. 常用指令</h3><h4 id="13-1-1-SETBIT"><a href="#13-1-1-SETBIT" class="headerlink" title="13.1.1. SETBIT"></a>13.1.1. SETBIT</h4><p><img src="https://i.imgur.com/dp0k5Nw.png" alt="image-20231214142638511"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; SETBIT dianzan 0 1</span><br><span class="line">0</span><br><span class="line">127.0.0.1:6379&gt; SETBIT dianzan 1 0</span><br><span class="line">0</span><br></pre></td></tr></table></figure>

<h4 id="13-1-2-GETBIT"><a href="#13-1-2-GETBIT" class="headerlink" title="13.1.2. GETBIT"></a>13.1.2. GETBIT</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; GETBIT dianzan 0</span><br><span class="line">1</span><br><span class="line">127.0.0.1:6379&gt; GETBIT dianzan 1</span><br><span class="line">0</span><br></pre></td></tr></table></figure>

<h4 id="13-1-3-SET"><a href="#13-1-3-SET" class="headerlink" title="13.1.3. SET"></a>13.1.3. SET</h4><p><img src="https://i.imgur.com/5azKUk5.png" alt="image-20231214142747447"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; SET dianzan <span class="string">&quot;\xF0&quot;</span></span><br><span class="line">OK</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; GETBIT dianzan 0</span><br><span class="line">1</span><br><span class="line">127.0.0.1:6379&gt; GETBIT dianzan 1</span><br><span class="line">1</span><br><span class="line">127.0.0.1:6379&gt; GETBIT dianzan 2</span><br><span class="line">1</span><br><span class="line">127.0.0.1:6379&gt; GETBIT dianzan 3</span><br><span class="line">1</span><br><span class="line">127.0.0.1:6379&gt; GETBIT dianzan 4</span><br><span class="line">0</span><br><span class="line">127.0.0.1:6379&gt; GETBIT dianzan 5</span><br><span class="line">0</span><br><span class="line">127.0.0.1:6379&gt; GETBIT dianzan 6</span><br><span class="line">0</span><br><span class="line">127.0.0.1:6379&gt; GETBIT dianzan 7</span><br><span class="line">0</span><br></pre></td></tr></table></figure>

<h4 id="13-1-4-BITCOUNT"><a href="#13-1-4-BITCOUNT" class="headerlink" title="13.1.4. BITCOUNT"></a>13.1.4. BITCOUNT</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; BITCOUNT dianzan</span><br><span class="line">4</span><br></pre></td></tr></table></figure>

<h4 id="13-1-5-BITPOS"><a href="#13-1-5-BITPOS" class="headerlink" title="13.1.5. BITPOS"></a>13.1.5. BITPOS</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; BITPOS dianzan 0</span><br><span class="line">4</span><br></pre></td></tr></table></figure>

<h2 id="14-BitField"><a href="#14-BitField" class="headerlink" title="14. BitField"></a>14. BitField</h2><p><img src="https://i.imgur.com/A2UKBL3.png" alt="image-20231214144020140"></p>
<h3 id="14-1-常用指令"><a href="#14-1-常用指令" class="headerlink" title="14.1. 常用指令"></a>14.1. 常用指令</h3><h4 id="14-1-1-BITFIELD…SET…"><a href="#14-1-1-BITFIELD…SET…" class="headerlink" title="14.1.1. BITFIELD…SET…"></a>14.1.1. BITFIELD…SET…</h4><p><code>player:1</code> ： 變數</p>
<p><code>u8</code> ： 正整數長度8</p>
<p><code>#0</code> ：第一個位置</p>
<p><code>1</code>：值</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#等級1</span></span><br><span class="line">127.0.0.1:6379&gt; BITFIELD player:1 <span class="built_in">set</span> u8 <span class="comment">#0 1</span></span><br><span class="line">0</span><br><span class="line"><span class="comment">#金錢100</span></span><br><span class="line">127.0.0.1:6379&gt; BITFIELD player:1 <span class="built_in">set</span> u32 <span class="comment">#1 100</span></span><br><span class="line">0</span><br></pre></td></tr></table></figure>

<h4 id="14-1-2-BITFIELD…GET…"><a href="#14-1-2-BITFIELD…GET…" class="headerlink" title="14.1.2. BITFIELD…GET…"></a>14.1.2. BITFIELD…GET…</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; BITFIELD player:1 get u8 <span class="comment">#0</span></span><br><span class="line">1</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; BITFIELD player:1 get u32 <span class="comment">#1</span></span><br><span class="line">100</span><br></pre></td></tr></table></figure>

<h4 id="14-1-3-BITFIELD…incrby…"><a href="#14-1-3-BITFIELD…incrby…" class="headerlink" title="14.1.3. BITFIELD…incrby…"></a>14.1.3. BITFIELD…incrby…</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#增加100金幣</span></span><br><span class="line">127.0.0.1:6379&gt; BITFIELD player:1 incrby u32 <span class="comment">#1 100</span></span><br><span class="line">200</span><br></pre></td></tr></table></figure>



<h2 id="15-Multi"><a href="#15-Multi" class="headerlink" title="15. Multi"></a>15. Multi</h2><p>在執行exec之前，所有命令都會放到佇列中，不會立即執行。</p>
<p>收到exec命令後，有任何一命令失敗，並不影響其它命令。</p>
<p>在執行exec之前，其它客戶提出的請求，並不會被插入到multi裡面。</p>
<p><img src="https://i.imgur.com/koP5xYq.png" alt="image-20231214153249916"></p>
<h3 id="15-1-常用指令"><a href="#15-1-常用指令" class="headerlink" title="15.1. 常用指令"></a>15.1. 常用指令</h3><h4 id="15-1-1-MULTI"><a href="#15-1-1-MULTI" class="headerlink" title="15.1.1. MULTI"></a>15.1.1. MULTI</h4><p>啟動</p>
<h4 id="15-1-2-EXEC"><a href="#15-1-2-EXEC" class="headerlink" title="15.1.2. EXEC"></a>15.1.2. EXEC</h4><p>結束</p>
<p>以下圖為例，當執行了<code>MULTI</code>之後，接著執行指令<code>SET k1 v1</code>、<code>SET k2 v2</code>之後，系統顯示在queued中。</p>
<p>接著，開啟另一個終端機，試著讀取<code>k1</code>，是沒有資料的，當執行了<code>EXEC</code>之後，另一個終端機就讀取得到資料。</p>
<p><img src="https://i.imgur.com/RxLsRi6.png" alt="image-20231214153837912"></p>
<p>以下實驗，證明其中一個指令失敗，並不影響其它執令的執行結果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; SET k3 3</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; SET k4 v4</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; SET k5 5</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; MULTI</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379(TX)&gt; INCR k3</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379(TX)&gt; INCR k4</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379(TX)&gt; INCR k5</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379(TX)&gt; EXEC</span><br><span class="line">1) (<span class="built_in">integer</span>) 4</span><br><span class="line">2) (error) ERR value is not an <span class="built_in">integer</span> or out of range</span><br><span class="line">3) (<span class="built_in">integer</span>) 6</span><br><span class="line">127.0.0.1:6379&gt; GET k3</span><br><span class="line"><span class="string">&quot;4&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; GET k4</span><br><span class="line"><span class="string">&quot;v4&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; GET k5</span><br><span class="line"><span class="string">&quot;6&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="16-持久化"><a href="#16-持久化" class="headerlink" title="16. 持久化"></a>16. 持久化</h2><h3 id="16-1-常用指令"><a href="#16-1-常用指令" class="headerlink" title="16.1. 常用指令"></a>16.1. 常用指令</h3><h3 id="16-2-RDB-Redis-Database"><a href="#16-2-RDB-Redis-Database" class="headerlink" title="16.2. RDB(Redis Database)"></a>16.2. RDB(Redis Database)</h3><p>分為自動與手動，自動部分需要去<code>redis.config</code>檔進行修正，以下是截取部分：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Unless specified otherwise, by default Redis will save the DB:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#  定時1小時檢查，是否有有1次以上異動，才符合自動儲存條件</span></span><br><span class="line"><span class="comment">#   * After 3600 seconds (an hour) if at least 1 change was performed</span></span><br><span class="line"><span class="comment">#  定時5分鐘檢查，是否有100次以上異動，才符合自動儲存條件</span></span><br><span class="line"><span class="comment">#   * After 300 seconds (5 minutes) if at least 100 changes were performed</span></span><br><span class="line"><span class="comment">#  定時60秒檢查，是否有10000次以上異動，才符合自動儲存條件</span></span><br><span class="line"><span class="comment">#   * After 60 seconds if at least 10000 changes were performed</span></span><br></pre></td></tr></table></figure>

<p>我們可以觀查到，第一個參數表示秒數，第二參數表示執行次數。而docker redis 預設是沒有包<code>redis.config</code>檔，所以如果要的話請去官網下載，可到下方參考連結去使用，下載檔案之後，在啟動docker時記得mount此份文件，修改其內容。</p>
<p>手動部分實驗如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># redis-cli</span></span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">(empty array)</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> k1 k1</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> k2 k2</span><br><span class="line">OK</span><br><span class="line"></span><br><span class="line"><span class="comment">#手動儲存</span></span><br><span class="line">127.0.0.1:6379&gt; save</span><br><span class="line">OK</span><br><span class="line"></span><br><span class="line"><span class="comment">#跳出redis</span></span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">exit</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#查看文件</span></span><br><span class="line"><span class="comment"># ls</span></span><br><span class="line">dump.rdb</span><br><span class="line"></span><br><span class="line"><span class="comment">#使用xxd指令查看檔案</span></span><br><span class="line"><span class="comment"># xxd dump.rdb</span></span><br><span class="line">00000000: 5245 4449 5330 3031 31fa 0972 6564 6973  REDIS0011..redis</span><br><span class="line">00000010: 2d76 6572 0537 2e32 2e33 fa0a 7265 6469  -ver.7.2.3..redi</span><br><span class="line">00000020: 732d 6269 7473 c040 fa05 6374 696d 65c2  s-bits.@..ctime.</span><br><span class="line">00000030: b358 7c65 fa08 7573 6564 2d6d 656d c2c8  .X|e..used-mem..</span><br><span class="line">00000040: 3420 00fa 0861 6f66 2d62 6173 65c0 00fe  4 ...aof-base...</span><br><span class="line">00000050: 00fb 0200 0002 6b32 026b 3200 026b 3102  ......k2.k2..k1.   </span><br><span class="line">00000060: 6b31 ff7c 8471 bff0 fe75 7c              k1.|.q...u|    </span><br></pre></td></tr></table></figure>

<p>可以看到最後兩行有剛剛k1與k2的資料，代表已經實質的從記憶體儲放一份到硬碟上，至於多久要寫入一次的要根據伺服器可用的效能去評估與設定。</p>
<blockquote>
<p>補充說明：xxd是一個可以查看2進制或16進制文件內容的linux命令</p>
</blockquote>
<p>另外，通常在使用redis時配給的資源通常會給比較多，而在使用<code>save</code>指令時，redis是無法接受任何請求的，所以有可能會發生阻塞。於是redis又提供了另一個指令<code>bgsave</code>，這個指令可以直接多開一個執行緒，讓它獨立做記憶體搬到IO的工作。這樣的作法可以讓阻塞問題得到緩解。但是在fork出一個新的執行緒的過程中還是會佔用效能，而且在fork過程式，還是沒有辦法處理任何請求，沒有辦法做到秒級的快照。</p>
<p>為了解決這個問題，又提供了AOF的持久化方式。</p>
<h3 id="16-3-AOF-Append-Only-File"><a href="#16-3-AOF-Append-Only-File" class="headerlink" title="16.3. AOF(Append Only File)"></a>16.3. AOF(Append Only File)</h3><p><code>AOF</code>意思是指追加文件，當使用指令時，同時寫入<code>記憶體</code>與<code>追加文件</code>，文件以日誌的方式記錄每一個寫入操作，當REDIS重啟動時，就會通過重新執行<code>AOF</code>文件中的命令來在記憶體中重建整個資料庫的內容。開啟AOF的方式也很簡單，只要在<code>redis.config</code>將<code>appendonly</code> 後方的<code>no</code> 改為<code>yes</code>即可。</p>
<h2 id="17-Replication-主從複製"><a href="#17-Replication-主從複製" class="headerlink" title="17. Replication 主從複製"></a>17. Replication 主從複製</h2><p>Master(主)節點主要負責<code>寫</code>的處理，Slave(從)節點負責<code>讀</code>的處理，主節點的數據變化會通過非同步方式發送給從節點，從節點收到資料後，會更新自己的數據</p>
<p><img src="https://i.imgur.com/tMREXiC.png" alt="Redis: Master-Slave Architecture. Redis is based on Master-Slave… | by  Sunny Garg | Medium"></p>
<h3 id="17-1-Master-建置"><a href="#17-1-Master-建置" class="headerlink" title="17.1. Master 建置"></a>17.1. Master 建置</h3><p>這次實驗透過docker進行，準備1個master，2個slave。</p>
<p>docker預設都是吃同一個switch設定，所以自然可以透過區網方式互相訪問。</p>
<p>開始建置master容器，容器取名為<code>redis-master</code>，指令如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --name redis-master -d -p 6379:6379 redis</span><br></pre></td></tr></table></figure>

<p>我們為了要取得master區網IP，因此需進入容器中，安裝<code>net-tools</code>工具：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt-get update</span><br><span class="line">apt-get install net-tools</span><br></pre></td></tr></table></figure>

<p>使用<code>ifconfig</code>指令，從訊息中得知ip為<code>172.17.0.2</code>：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ifconfig</span></span><br><span class="line">eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500</span><br><span class="line">        inet 172.17.0.2  netmask 255.255.0.0  broadcast 172.17.255.255</span><br><span class="line">        ether 02:42:ac:11:00:02  txqueuelen 0  (Ethernet)</span><br><span class="line">        RX packets 7614  bytes 9949276 (9.4 MiB)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 2430  bytes 162974 (159.1 KiB)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line"></span><br><span class="line">lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536</span><br><span class="line">        inet 127.0.0.1  netmask 255.0.0.0</span><br><span class="line">        loop  txqueuelen 1000  (Local Loopback)</span><br><span class="line">        RX packets 61  bytes 208513 (203.6 KiB)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 61  bytes 208513 (203.6 KiB)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br></pre></td></tr></table></figure>

<h3 id="17-2-Slave-建置"><a href="#17-2-Slave-建置" class="headerlink" title="17.2. Slave 建置"></a>17.2. Slave 建置</h3><p>方法1</p>
<p>使用此方法，不需要準備<code>redis.conf</code>檔</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -it --name redis-slave01 -p 6380:6379 redis redis-server --slaveof 172.17.0.2 6379</span><br></pre></td></tr></table></figure>

<p>方法2</p>
<p>建置slave容器之前，我們準備一個<code>redis.conf</code>檔，僅說明需要修改部分(完整檔案放在參考連結那)：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">replicaof 172.17.0.2 6379</span><br></pre></td></tr></table></figure>

<p>使用方法2，開始建置slave容器，容器取名為<code>redis-slave01</code>，指令如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --name redis-slave01 -d -p 6380:6379 -v C:/docker_data/redis-6380.conf:/usr/local/etc/redis/redis-6380.conf redis redis-server /usr/local/etc/redis/redis-6380.conf</span><br></pre></td></tr></table></figure>

<p>說明相關指令</p>
<p><code>v C:/docker_data/redis-6380.conf:/usr/local/etc/redis/redis-6380.conf redis</code>：將準備好的檔案放在c槽，並以volumn 方式放到docker指定位置。</p>
<p><code> redis-server /usr/local/etc/redis/redis-6380.conf</code>：redis啟動後參考此config設定</p>
<h3 id="17-3-實驗階段"><a href="#17-3-實驗階段" class="headerlink" title="17.3. 實驗階段"></a>17.3. 實驗階段</h3><h4 id="17-3-1-進入Master容器中，簡單設定幾個變數"><a href="#17-3-1-進入Master容器中，簡單設定幾個變數" class="headerlink" title="17.3.1. 進入Master容器中，簡單設定幾個變數"></a>17.3.1. 進入<code>Master</code>容器中，簡單設定幾個變數</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># redis-cli</span></span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">(empty array)</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> k1 k1</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> k2 k2</span><br><span class="line">OK</span><br></pre></td></tr></table></figure>

<h4 id="17-3-2-進入Slave容器中，確認同步狀況"><a href="#17-3-2-進入Slave容器中，確認同步狀況" class="headerlink" title="17.3.2. 進入Slave容器中，確認同步狀況"></a>17.3.2. 進入<code>Slave</code>容器中，確認同步狀況</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -it 274f /bin/bash</span><br><span class="line">root@274f984345a9:/data<span class="comment"># redis-cli</span></span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">1) <span class="string">&quot;k2&quot;</span></span><br><span class="line">2) <span class="string">&quot;k1&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="17-3-3-再增加一個Slave，這次特別使用方法1："><a href="#17-3-3-再增加一個Slave，這次特別使用方法1：" class="headerlink" title="17.3.3. 再增加一個Slave，這次特別使用方法1："></a>17.3.3. 再增加一個<code>Slave</code>，這次特別使用方法1：</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -it --name redis-slave02 -p 6381:6379 redis redis-server --slaveof 172.17.0.2 6379</span><br></pre></td></tr></table></figure>

<p>節點資源最後如下</p>
<p><img src="https://i.imgur.com/XBw6qQy.png" alt="image-20231216103946054"></p>
<h4 id="17-3-4-Master開始寫入資料，觀查Slave是否同步，如下："><a href="#17-3-4-Master開始寫入資料，觀查Slave是否同步，如下：" class="headerlink" title="17.3.4. Master開始寫入資料，觀查Slave是否同步，如下："></a>17.3.4. Master開始寫入資料，觀查Slave是否同步，如下：</h4><p><img src="https://i.imgur.com/zXP20s8.png" alt="image-20231216103824221"></p>
<h2 id="18-哨兵模式"><a href="#18-哨兵模式" class="headerlink" title="18. 哨兵模式"></a>18. 哨兵模式</h2><p>如果某個節點發生問題，那麼哨兵就會通過發佈訂閱模式來通知其它節點。當主節點不能正常工作時，哨兵會開始一個自動故障轉移的操作，它會將一個從節點升級為新的主節點，然後再將其他從節點指向新的主節點。</p>
<p><img src="https://i.imgur.com/XHcuLXb.png" alt="圖片"></p>
<h3 id="18-1-首先，準備四個docker-1主、2從、1哨"><a href="#18-1-首先，準備四個docker-1主、2從、1哨" class="headerlink" title="18.1. 首先，準備四個docker(1主、2從、1哨)"></a>18.1. 首先，準備四個docker(1主、2從、1哨)</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker run -it --name redis-master -p 6379:6379 redis redis-server --slaveof 172.17.0.2 6379</span><br><span class="line">docker run -it --name redis-slave01 -p 6380:6379 redis redis-server --slaveof 172.17.0.2 6379</span><br><span class="line">docker run -it --name redis-slave02 -p 6381:6379 redis redis-server --slaveof 172.17.0.2 6379</span><br><span class="line">docker run -it --name redis-sentinel -p 6382:6379 redis</span><br></pre></td></tr></table></figure>

<p>結果如下：</p>
<p><img src="https://i.imgur.com/0xUrsaR.png" alt="redis002"></p>
<h3 id="18-2-建立sentinel-conf檔"><a href="#18-2-建立sentinel-conf檔" class="headerlink" title="18.2. 建立sentinel.conf檔"></a>18.2. 建立<code>sentinel.conf</code>檔</h3><p>進入到<code>redis-sentinel</code>容器中，建立<code>sentinel.conf</code>檔，檔案內容如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sentinel monitor mymaster 172.17.0.2 6379 1</span><br></pre></td></tr></table></figure>

<p>參數說明</p>
<ul>
<li><p><code>mymaster</code> 自取名稱，任意填寫</p>
</li>
<li><p><code>172.17.0.2</code> 填master ip</p>
</li>
<li><p><code>6379</code> master port</p>
</li>
<li><p><code>1</code> 投票人數，這邊只有一個哨兵所以就填1即可。</p>
</li>
</ul>
<h3 id="18-3-啟動哨兵模式"><a href="#18-3-啟動哨兵模式" class="headerlink" title="18.3. 啟動哨兵模式"></a>18.3. 啟動哨兵模式</h3><p>在<code>redis-sentinel</code>容器中，執行指令<code>redis-sentinel sentinel.conf</code>，成功啟動預期如下圖：</p>
<p><img src="https://i.imgur.com/B7boGE0.png" alt="redis001"></p>
<h3 id="18-4-模擬master中斷"><a href="#18-4-模擬master中斷" class="headerlink" title="18.4. 模擬master中斷"></a>18.4. 模擬master中斷</h3><p><img src="https://i.imgur.com/helyHzC.png" alt="redis003"></p>
<h3 id="18-5-觀查哨兵自動轉換"><a href="#18-5-觀查哨兵自動轉換" class="headerlink" title="18.5. 觀查哨兵自動轉換"></a>18.5. 觀查哨兵自動轉換</h3><p>哨兵在自動切換需要一些時間，等待一下…就會看到訊息開始在運作，透過<code>info replication</code>查看，可以觀查到原本的<code>slave01</code>升級變為<code>master</code>，實驗結束，結果如下圖：</p>
<p><img src="https://i.imgur.com/52ZiVNr.png" alt="redis004"></p>
<h2 id="19-模擬排隊程式"><a href="#19-模擬排隊程式" class="headerlink" title="19. 模擬排隊程式"></a>19. 模擬排隊程式</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// See https://aka.ms/new-console-template for more information</span></span><br><span class="line"><span class="keyword">using</span> StackExchange.Redis;</span><br><span class="line"></span><br><span class="line">Console.WriteLine(<span class="string">&quot;Hello, World!&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 建立 ConnectionMultiplexer</span></span><br><span class="line"><span class="keyword">var</span> redis = ConnectionMultiplexer.Connect(<span class="string">&quot;localhost&quot;</span>);</span><br><span class="line">IDatabase db = redis.GetDatabase();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 清空可能存在的相關鍵</span></span><br><span class="line">db.KeyDelete(<span class="string">&quot;queue&quot;</span>);</span><br><span class="line">db.KeyDelete(<span class="string">&quot;processed&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 啟動兩個模擬客戶端</span></span><br><span class="line">Task.Run(() =&gt; EnqueueCustomers(redis));</span><br><span class="line">Task.Run(() =&gt; ProcessQueue(redis));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 防止主執行緒退出</span></span><br><span class="line">Console.ReadLine();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">async</span> Task <span class="title">EnqueueCustomers</span>(<span class="params">ConnectionMultiplexer redis</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    IDatabase db = redis.GetDatabase();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">int</span> customerNumber = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">string</span> customer = <span class="string">$&quot;Customer-<span class="subst">&#123;customerNumber&#125;</span>&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 將客戶加入排隊</span></span><br><span class="line">        db.ListRightPush(<span class="string">&quot;queue&quot;</span>, customer);</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;Enqueued <span class="subst">&#123;customer&#125;</span>&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 模擬客戶隨機到達的時間</span></span><br><span class="line">        <span class="keyword">await</span> Task.Delay(TimeSpan.FromSeconds(<span class="keyword">new</span> Random().Next(<span class="number">1</span>, <span class="number">5</span>)));</span><br><span class="line"></span><br><span class="line">        customerNumber++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">async</span> Task <span class="title">ProcessQueue</span>(<span class="params">ConnectionMultiplexer redis</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    IDatabase db = redis.GetDatabase();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 從排隊中取得下一位客戶</span></span><br><span class="line">        <span class="built_in">string</span> customer = db.ListLeftPop(<span class="string">&quot;queue&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (customer != <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// 處理客戶</span></span><br><span class="line">            Console.WriteLine(<span class="string">$&quot;Processing <span class="subst">&#123;customer&#125;</span>&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 將已處理的客戶加入已處理清單</span></span><br><span class="line">            db.ListRightPush(<span class="string">&quot;processed&quot;</span>, customer);</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// 若排隊為空，等待一段時間再檢查</span></span><br><span class="line">            <span class="keyword">await</span> Task.Delay(TimeSpan.FromSeconds(<span class="number">1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="19-1-執行過程"><a href="#19-1-執行過程" class="headerlink" title="19.1. 執行過程"></a>19.1. 執行過程</h3><p><img src="https://i.imgur.com/Qzk5Pxh.png" alt="image-20231211164712006"></p>
<h3 id="19-2-觀查redis狀況"><a href="#19-2-觀查redis狀況" class="headerlink" title="19.2. 觀查redis狀況"></a>19.2. 觀查redis狀況</h3><p><img src="https://i.imgur.com/7ra7MSN.png" alt="image-20231211164740246"></p>
<h2 id="20-參考連結"><a href="#20-參考連結" class="headerlink" title="20. 參考連結"></a>20. 參考連結</h2><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/qishibo/AnotherRedisDesktopManager/">GUI工具：GitHub:Another Redis Desktop Manager</a></li>
<li><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Jj411D7oG/">【GeekHour】一小时Redis教程</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/443370796">谈谈Redis五种数据结构及真实应用场景</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/42056183">分布式锁看这篇就够了</a><ul>
<li>有空記得看</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/redis/redis/7.2/redis.conf">官網Redis 7.2 config 參考</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/kitefree/RedisNote">個人筆記-RedisNote</a><ul>
<li>包含程式碼範例、redis config檔</li>
</ul>
</li>
</ul>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/C/" rel="tag"># C#</a>
              <a href="/tags/%E9%AB%98%E4%BD%B5%E7%99%BC/" rel="tag"># 高併發</a>
              <a href="/tags/Redis/" rel="tag"># Redis</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2023/10/11/2023-12-12%20EFCore%E8%AE%80%E5%AF%AB%E5%88%86%E9%9B%A2/" rel="prev" title="EFCore讀寫分離">
      <i class="fa fa-chevron-left"></i> EFCore讀寫分離
    </a></div>
      <div class="post-nav-item">
    <a href="/2023/12/30/2023-12-30%20Gitea%E6%90%AD%E9%85%8DMSSQL%E7%AD%86%E8%A8%98/" rel="next" title="Gitea搭配MSSQL筆記">
      Gitea搭配MSSQL筆記 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目錄
        </li>
        <li class="sidebar-nav-overview">
          本站概要
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-Redis%E7%B0%A1%E4%BB%8B"><span class="nav-text">1. Redis簡介</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-Redis%E7%89%B9%E9%BB%9E"><span class="nav-text">2. Redis特點</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-%E6%95%B8%E6%93%9A%E9%A1%9E%E5%9E%8B"><span class="nav-text">2.1. 數據類型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8F"><span class="nav-text">2.2. 使用方式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-%E7%92%B0%E5%A2%83%E5%AE%89%E8%A3%9D"><span class="nav-text">3. 環境安裝</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-Redis-GUI-%E5%B7%A5%E5%85%B7"><span class="nav-text">4. Redis GUI 工具</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-%E9%80%99%E6%AC%A1%E9%80%8F%E9%81%8E%E6%8C%87%E4%BB%A4%E6%96%B9%E5%BC%8F%E5%AE%89%E8%A3%9D"><span class="nav-text">4.1. 這次透過指令方式安裝</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-%E5%9F%B7%E8%A1%8C%E7%B5%90%E6%9E%9C"><span class="nav-text">4.2. 執行結果</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3-%E7%A2%BA%E8%AA%8Ddocker-id"><span class="nav-text">4.3. 確認docker id</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-4-%E9%80%B2%E5%85%A5docker%E6%93%8D%E4%BD%9Credis"><span class="nav-text">4.4. 進入docker操作redis</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-5-%E9%80%8F%E9%81%8EGUI%E5%B7%A5%E5%85%B7%E6%93%8D%E4%BD%9C"><span class="nav-text">4.5. 透過GUI工具操作</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-String-%E5%AD%97%E4%B8%B2"><span class="nav-text">5. String 字串</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1-%E7%B0%A1%E4%BB%8B"><span class="nav-text">5.1. 簡介</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-2-%E4%BD%BF%E7%94%A8%E5%A0%B4%E6%99%AF"><span class="nav-text">5.2. 使用場景</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#5-2-1-%E5%BF%AB%E5%8F%96-Caching"><span class="nav-text">5.2.1. 快取 (Caching)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-2-2-%E8%A8%88%E6%95%B8%E5%99%A8-Counters"><span class="nav-text">5.2.2. 計數器 (Counters)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-2-3-%E6%9C%83%E8%A9%B1%E7%AE%A1%E7%90%86-Session-Management"><span class="nav-text">5.2.3. 會話管理 (Session Management)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-3-%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4"><span class="nav-text">5.3. 常用指令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#5-3-1-SET-%E8%A8%AD%E5%AE%9Akey"><span class="nav-text">5.3.1. SET - 設定key</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-3-2-GET-%E8%AE%80%E5%8F%96key"><span class="nav-text">5.3.2. GET - 讀取key</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-3-3-key%E5%A4%A7%E5%B0%8F%E5%AF%AB%E6%9C%89%E5%88%86"><span class="nav-text">5.3.3. key大小寫有分</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-3-4-DEL-%E5%88%AA%E9%99%A4key"><span class="nav-text">5.3.4. DEL - 刪除key</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-3-5-EXISTS-%E6%9F%A5%E8%A9%A2key"><span class="nav-text">5.3.5. EXISTS - 查詢key</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-3-6-KEYS-%E8%90%AC%E7%94%A8%E5%AD%97%E6%9F%A5%E8%A9%A2"><span class="nav-text">5.3.6. KEYS - 萬用字查詢</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-3-7-FLUSHALL-%E5%88%AA%E9%99%A4%E6%89%80%E6%9C%89key"><span class="nav-text">5.3.7. FLUSHALL - 刪除所有key</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-3-8-%E4%B8%AD%E6%96%87%E9%A1%AF%E7%A4%BA%E8%AA%AA%E6%98%8E"><span class="nav-text">5.3.8. 中文顯示說明</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-3-9-redis-cli-%E2%80%93raw-%E6%AD%A3%E5%B8%B8%E9%A1%AF%E7%A4%BA%E4%B8%AD%E6%96%87%E6%96%B9%E6%B3%95"><span class="nav-text">5.3.9. redis-cli –raw  正常顯示中文方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-3-10-EXPIRE-%E8%A8%AD%E5%AE%9A%E9%81%8E%E6%9C%9F"><span class="nav-text">5.3.10. EXPIRE - 設定過期</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-3-11-TTL-%E6%9F%A5%E8%A9%A2%E9%81%8E%E6%9C%9F"><span class="nav-text">5.3.11. TTL - 查詢過期</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-3-12-SETEX-%E8%A8%AD%E5%AE%9Akey-%E9%81%8E%E6%9C%9F"><span class="nav-text">5.3.12. SETEX - 設定key + 過期</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-3-13-SETNX-%E8%A9%B2%E5%80%BC%E4%B8%8D%E5%AD%98%E5%9C%A8%E5%89%87%E5%BB%BA%E7%AB%8B"><span class="nav-text">5.3.13. SETNX - 該值不存在則建立</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-LIST-%E5%88%97%E8%A1%A8"><span class="nav-text">6. LIST 列表</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#6-1-%E7%B0%A1%E4%BB%8B"><span class="nav-text">6.1. 簡介</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-2-%E4%BD%BF%E7%94%A8%E5%A0%B4%E6%99%AF"><span class="nav-text">6.2. 使用場景</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#6-2-1-%E6%97%A5%E8%AA%8C%E8%A8%98%E9%8C%84"><span class="nav-text">6.2.1. 日誌記錄</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-2-2-%E6%8A%BD%E7%8D%8E-%E6%90%B6%E7%A5%A8"><span class="nav-text">6.2.2. 抽獎,搶票</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-2-3-%E6%B5%81%E9%87%8F%E6%B6%88%E5%B3%B0"><span class="nav-text">6.2.3. 流量消峰</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-3-%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4"><span class="nav-text">6.3. 常用指令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#6-3-1-LPUSH"><span class="nav-text">6.3.1. LPUSH</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-3-2-LRANGE"><span class="nav-text">6.3.2. LRANGE</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-3-3-RPUSH"><span class="nav-text">6.3.3. RPUSH</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-3-4-LLEN"><span class="nav-text">6.3.4. LLEN</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-3-5-LTRIM"><span class="nav-text">6.3.5. LTRIM</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-SET-%E9%9B%86%E5%90%88"><span class="nav-text">7. SET 集合</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#7-1-%E7%B0%A1%E4%BB%8B"><span class="nav-text">7.1. 簡介</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#7-1-1-%E4%BB%80%E9%BA%BC%E6%98%AF-Redis-SET-%E8%B3%87%E6%96%99%E7%B5%90%E6%A7%8B%EF%BC%9F"><span class="nav-text">7.1.1. 什麼是 Redis SET 資料結構？</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-1-2-Redis-SET-%E7%9A%84%E4%B8%BB%E8%A6%81%E7%89%B9%E6%80%A7%EF%BC%9A"><span class="nav-text">7.1.2. Redis SET 的主要特性：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-2-%E4%BD%BF%E7%94%A8%E5%A0%B4%E6%99%AF"><span class="nav-text">7.2. 使用場景</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#7-2-1-%E6%A8%99%E7%B1%A4"><span class="nav-text">7.2.1. 標籤</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-2-2-%E5%85%B1%E5%90%8C"><span class="nav-text">7.2.2. 共同</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-2-3-%E7%B5%B1%E8%A8%88"><span class="nav-text">7.2.3. 統計</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-3-%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4"><span class="nav-text">7.3. 常用指令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#7-3-1-SADD"><span class="nav-text">7.3.1. SADD</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-3-2-SMEMBERS"><span class="nav-text">7.3.2. SMEMBERS</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-3-3-SISMEMBER"><span class="nav-text">7.3.3. SISMEMBER</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-3-4-SREM"><span class="nav-text">7.3.4. SREM</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-3-5-%E5%85%B6%E5%AE%83%E5%AD%B8%E7%BF%92"><span class="nav-text">7.3.5. 其它學習</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-SortedSet-%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88"><span class="nav-text">8. SortedSet 有序集合</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#8-1-%E7%B0%A1%E4%BB%8B"><span class="nav-text">8.1. 簡介</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#8-1-1-%E4%BB%80%E9%BA%BC%E6%98%AF-Redis-Sorted-Set-%E8%B3%87%E6%96%99%E7%B5%90%E6%A7%8B%EF%BC%9F"><span class="nav-text">8.1.1. 什麼是 Redis Sorted Set 資料結構？</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-1-2-Redis-Sorted-Set-%E7%9A%84%E4%B8%BB%E8%A6%81%E7%89%B9%E6%80%A7%EF%BC%9A"><span class="nav-text">8.1.2. Redis Sorted Set 的主要特性：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-2-%E4%BD%BF%E7%94%A8%E5%A0%B4%E6%99%AF"><span class="nav-text">8.2. 使用場景</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#8-2-1-%E6%8E%92%E8%A1%8C%E6%A6%9C%EF%BC%88Leaderboard%EF%BC%89"><span class="nav-text">8.2.1. 排行榜（Leaderboard）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-2-2-%E9%81%8E%E6%9C%9F%E6%99%82%E9%96%93%E7%AE%A1%E7%90%86"><span class="nav-text">8.2.2. 過期時間管理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-2-3-%E5%8D%80%E9%96%93%E6%9F%A5%E8%A9%A2"><span class="nav-text">8.2.3. 區間查詢</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-2-4-%E6%95%B8%E6%93%9A%E5%8C%B9%E9%85%8D%E5%92%8C%E6%90%9C%E7%B4%A2"><span class="nav-text">8.2.4. 數據匹配和搜索</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-2-5-%E5%8D%B3%E6%99%82%E6%8E%92%E5%90%8D"><span class="nav-text">8.2.5. 即時排名</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-3-%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4"><span class="nav-text">8.3. 常用指令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#8-3-1-ZADD"><span class="nav-text">8.3.1. ZADD</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-3-2-ZRANGE"><span class="nav-text">8.3.2. ZRANGE</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-3-3-ZRANGE-WITHSCORES"><span class="nav-text">8.3.3. ZRANGE WITHSCORES</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-3-4-ZSCORE"><span class="nav-text">8.3.4. ZSCORE</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-3-5-ZRANK"><span class="nav-text">8.3.5. ZRANK</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-3-6-ZREVRANK"><span class="nav-text">8.3.6. ZREVRANK</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-3-7-%E5%85%B6%E5%AE%83%E5%AD%B8%E7%BF%92"><span class="nav-text">8.3.7. 其它學習</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-Hash-%E5%93%88%E5%B8%8C"><span class="nav-text">9. Hash 哈希</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#9-1-%E7%B0%A1%E4%BB%8B"><span class="nav-text">9.1. 簡介</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-2-%E4%BD%BF%E7%94%A8%E5%A0%B4%E6%99%AF"><span class="nav-text">9.2. 使用場景</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#9-2-1-%E5%B0%8D%E8%B1%A1%E5%AD%98%E5%84%B2"><span class="nav-text">9.2.1. 對象存儲</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-2-2-%E7%B6%B2%E7%AB%99%E6%9C%83%E8%A9%B1%E7%AE%A1%E7%90%86"><span class="nav-text">9.2.2. 網站會話管理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-2-3-%E9%85%8D%E7%BD%AE%E5%AD%98%E5%84%B2"><span class="nav-text">9.2.3. 配置存儲</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-3-%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4"><span class="nav-text">9.3. 常用指令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#9-3-1-HSET"><span class="nav-text">9.3.1. HSET</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-3-2-HGET"><span class="nav-text">9.3.2. HGET</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-3-3-HGETALL"><span class="nav-text">9.3.3. HGETALL</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-3-4-HDEL"><span class="nav-text">9.3.4. HDEL</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-3-5-HGETALL"><span class="nav-text">9.3.5. HGETALL</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-3-6-HEXISTS"><span class="nav-text">9.3.6. HEXISTS</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-3-7-HKEYS"><span class="nav-text">9.3.7. HKEYS</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-3-8-HLEN"><span class="nav-text">9.3.8. HLEN</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10-%E7%99%BC%E4%BD%88%E8%A8%82%E9%96%B1%E6%A8%A1%E5%BC%8F"><span class="nav-text">10. 發佈訂閱模式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#10-1-%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4"><span class="nav-text">10.1. 常用指令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#10-1-1-subscribe"><span class="nav-text">10.1.1. subscribe</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-1-2-publish"><span class="nav-text">10.1.2. publish</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-GEO"><span class="nav-text">11. GEO</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#11-1-%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4"><span class="nav-text">11.1. 常用指令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#11-1-1-GEOADD"><span class="nav-text">11.1.1. GEOADD</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#11-1-2-GEOPOS"><span class="nav-text">11.1.2. GEOPOS</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#11-1-3-GEODIST"><span class="nav-text">11.1.3. GEODIST</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#11-1-4-GEOSEARCH%E2%80%A6FROMMEMBER%E2%80%A6BYRADIUS%E2%80%A6"><span class="nav-text">11.1.4. GEOSEARCH…FROMMEMBER…BYRADIUS…</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-HyperLogLog"><span class="nav-text">12. HyperLogLog</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#12-1-%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4"><span class="nav-text">12.1. 常用指令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#12-1-1-PFADD"><span class="nav-text">12.1.1. PFADD</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#12-1-2-PFCOUNT"><span class="nav-text">12.1.2. PFCOUNT</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#12-1-3-PFMEGER"><span class="nav-text">12.1.3. PFMEGER</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-Bitmap-%E4%BD%8D%E5%9C%96"><span class="nav-text">13. Bitmap 位圖</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#13-1-%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4"><span class="nav-text">13.1. 常用指令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#13-1-1-SETBIT"><span class="nav-text">13.1.1. SETBIT</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#13-1-2-GETBIT"><span class="nav-text">13.1.2. GETBIT</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#13-1-3-SET"><span class="nav-text">13.1.3. SET</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#13-1-4-BITCOUNT"><span class="nav-text">13.1.4. BITCOUNT</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#13-1-5-BITPOS"><span class="nav-text">13.1.5. BITPOS</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#14-BitField"><span class="nav-text">14. BitField</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#14-1-%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4"><span class="nav-text">14.1. 常用指令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#14-1-1-BITFIELD%E2%80%A6SET%E2%80%A6"><span class="nav-text">14.1.1. BITFIELD…SET…</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#14-1-2-BITFIELD%E2%80%A6GET%E2%80%A6"><span class="nav-text">14.1.2. BITFIELD…GET…</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#14-1-3-BITFIELD%E2%80%A6incrby%E2%80%A6"><span class="nav-text">14.1.3. BITFIELD…incrby…</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#15-Multi"><span class="nav-text">15. Multi</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#15-1-%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4"><span class="nav-text">15.1. 常用指令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#15-1-1-MULTI"><span class="nav-text">15.1.1. MULTI</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#15-1-2-EXEC"><span class="nav-text">15.1.2. EXEC</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#16-%E6%8C%81%E4%B9%85%E5%8C%96"><span class="nav-text">16. 持久化</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#16-1-%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4"><span class="nav-text">16.1. 常用指令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#16-2-RDB-Redis-Database"><span class="nav-text">16.2. RDB(Redis Database)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#16-3-AOF-Append-Only-File"><span class="nav-text">16.3. AOF(Append Only File)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#17-Replication-%E4%B8%BB%E5%BE%9E%E8%A4%87%E8%A3%BD"><span class="nav-text">17. Replication 主從複製</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#17-1-Master-%E5%BB%BA%E7%BD%AE"><span class="nav-text">17.1. Master 建置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#17-2-Slave-%E5%BB%BA%E7%BD%AE"><span class="nav-text">17.2. Slave 建置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#17-3-%E5%AF%A6%E9%A9%97%E9%9A%8E%E6%AE%B5"><span class="nav-text">17.3. 實驗階段</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#17-3-1-%E9%80%B2%E5%85%A5Master%E5%AE%B9%E5%99%A8%E4%B8%AD%EF%BC%8C%E7%B0%A1%E5%96%AE%E8%A8%AD%E5%AE%9A%E5%B9%BE%E5%80%8B%E8%AE%8A%E6%95%B8"><span class="nav-text">17.3.1. 進入Master容器中，簡單設定幾個變數</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#17-3-2-%E9%80%B2%E5%85%A5Slave%E5%AE%B9%E5%99%A8%E4%B8%AD%EF%BC%8C%E7%A2%BA%E8%AA%8D%E5%90%8C%E6%AD%A5%E7%8B%80%E6%B3%81"><span class="nav-text">17.3.2. 進入Slave容器中，確認同步狀況</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#17-3-3-%E5%86%8D%E5%A2%9E%E5%8A%A0%E4%B8%80%E5%80%8BSlave%EF%BC%8C%E9%80%99%E6%AC%A1%E7%89%B9%E5%88%A5%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%951%EF%BC%9A"><span class="nav-text">17.3.3. 再增加一個Slave，這次特別使用方法1：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#17-3-4-Master%E9%96%8B%E5%A7%8B%E5%AF%AB%E5%85%A5%E8%B3%87%E6%96%99%EF%BC%8C%E8%A7%80%E6%9F%A5Slave%E6%98%AF%E5%90%A6%E5%90%8C%E6%AD%A5%EF%BC%8C%E5%A6%82%E4%B8%8B%EF%BC%9A"><span class="nav-text">17.3.4. Master開始寫入資料，觀查Slave是否同步，如下：</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#18-%E5%93%A8%E5%85%B5%E6%A8%A1%E5%BC%8F"><span class="nav-text">18. 哨兵模式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#18-1-%E9%A6%96%E5%85%88%EF%BC%8C%E6%BA%96%E5%82%99%E5%9B%9B%E5%80%8Bdocker-1%E4%B8%BB%E3%80%812%E5%BE%9E%E3%80%811%E5%93%A8"><span class="nav-text">18.1. 首先，準備四個docker(1主、2從、1哨)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#18-2-%E5%BB%BA%E7%AB%8Bsentinel-conf%E6%AA%94"><span class="nav-text">18.2. 建立sentinel.conf檔</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#18-3-%E5%95%9F%E5%8B%95%E5%93%A8%E5%85%B5%E6%A8%A1%E5%BC%8F"><span class="nav-text">18.3. 啟動哨兵模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#18-4-%E6%A8%A1%E6%93%ACmaster%E4%B8%AD%E6%96%B7"><span class="nav-text">18.4. 模擬master中斷</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#18-5-%E8%A7%80%E6%9F%A5%E5%93%A8%E5%85%B5%E8%87%AA%E5%8B%95%E8%BD%89%E6%8F%9B"><span class="nav-text">18.5. 觀查哨兵自動轉換</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#19-%E6%A8%A1%E6%93%AC%E6%8E%92%E9%9A%8A%E7%A8%8B%E5%BC%8F"><span class="nav-text">19. 模擬排隊程式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#19-1-%E5%9F%B7%E8%A1%8C%E9%81%8E%E7%A8%8B"><span class="nav-text">19.1. 執行過程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#19-2-%E8%A7%80%E6%9F%A5redis%E7%8B%80%E6%B3%81"><span class="nav-text">19.2. 觀查redis狀況</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#20-%E5%8F%83%E8%80%83%E9%80%A3%E7%B5%90"><span class="nav-text">20. 參考連結</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">kite</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">128</span>
          <span class="site-state-item-name">文章</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">65</span>
        <span class="site-state-item-name">分類</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">113</span>
        <span class="site-state-item-name">標籤</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">kite</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="總字數">401k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="所需總閱讀時間">12:10</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 強力驅動
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
